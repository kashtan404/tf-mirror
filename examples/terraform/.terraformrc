# Terraform CLI Configuration File
# Save this file as ~/.terraformrc (Linux/macOS) or %APPDATA%\terraform.rc (Windows)

# Configure provider installation to use the mirror
provider_installation {
  # Use the local mirror for all providers
  network_mirror {
    url = "http://localhost:8080/"
    include = ["registry.terraform.io/*/*"]
  }

  # Fallback to direct download for any providers not in the mirror
  # Comment out the 'direct' block if you want to force all downloads through the mirror
  direct {
    exclude = ["registry.terraform.io/*/*"]
  }
}

# Alternative configuration for HTTPS mirror
# provider_installation {
#   network_mirror {
#     url = "https://terraform-mirror.example.com/"
#     include = ["registry.terraform.io/*/*"]
#   }
#
#   direct {
#     exclude = ["registry.terraform.io/*/*"]
#   }
# }

# Alternative configuration for corporate environment with multiple mirrors
# provider_installation {
#   # Primary mirror (internal)
#   network_mirror {
#     url = "http://terraform-mirror.corp.internal:8080/"
#     include = ["registry.terraform.io/*/*"]
#   }
#
#   # Secondary mirror (external, with specific providers)
#   network_mirror {
#     url = "https://terraform-mirror.example.com/"
#     include = ["registry.terraform.io/hashicorp/*"]
#   }
#
#   # Direct downloads as last resort
#   direct {}
# }

# Disable upgrade prompts and crash reporting (optional)
disable_checkpoint = true
